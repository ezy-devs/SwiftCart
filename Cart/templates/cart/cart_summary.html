{% extends 'store/base.html' %}


{% load static %}

{% block title %}Cart - {{request.user}}{% endblock %}

{% block forms %} {% endblock %}
{% block dashboard %} {% endblock %}
{% block profile %} {% endblock %}
{% block shop %} {% endblock %}


<!-- <link rel="stylesheet" href="{% static 'assets/css/shop.css' %}">   -->
{% block content %}
<style>
    .quantity {
        display: flex;
        align-items: center;
        margin: 5px 0;
    }

    .quantity button {
        width: 25px;
        height: 25px;
        margin: 0 5px;
        background-color: #0073bb;
        color: white;
        border: none;
        border-radius: 3px;
        cursor: pointer;
    }

    .button {
        width: 40px;
        height: 25px;
        margin: 0 5px;
        background-color: #0073bb;
        color: white;
        border: none;
        border-radius: 3px;
        cursor: pointer;
        text-align: center;
    }
</style>
<section class="cart-page">
    <div class="container-fluid">
        <h2>Shopping Cart</h2>
        <div class="cart-items-container" style="display: flex; justify-content: space-between; align-items: center;">
            <div class="cart-items">
                {% for item in cart_items %}
                <div class="cart-item">
                    <img src="{{item.product.image.url}}" alt="Product 1">
                    <div class="cart-item-details">
                        <div style="padding: 0; margin: 0;">
                            <h3 style="padding: 0; margin: 0;">{{item.product.name}}</h3>
                            {% if item.product.is_sale %}
                            <p class="product-price" style="padding: 0; margin: 0;">N{{item.product.sale_price}} <span class="old-price"> N{{item.product.price}} </span></p>
                              {% else %}
                              <p class="product-price" style="padding: 0; margin: 0;">N{{item.product.price}} </p>
                            {% endif %}
                            <p style="padding: 0; margin: 0;">quantity: <strong>{{item.quantity}}</strong></p>
                        </div>
                        <p>{{item.product.description}}</p>
                    </div>
                    <form action="{% url 'add_to_cart' item.product.id%}" method="post">
                        {% csrf_token %}
                        <div class="quantity">
                            <label for="quantity-{{item.id}}">quantity:</label>
                            <input type="number" name="quantity" id="quantity-{{item.id}}" min="1" value="1"
                                class="button">
                        </div>
                        <div class="cta-buttons">
                            <button type="submit" class="btn">Update</button>
                            <button class="remove-item">Remove</button>
                        </div>
                    </form>
                </div>
                {% endfor %}
            </div>

            <div class="cart-summary" style="margin-top: -25px;">
                <h3>Cart Summary</h3>
                <p>Subtotal: <span id="subtotal">$139.98</span></p>
                <p>Shipping: <span id="shipping">$10.00</span></p>
                <p>Total: <span id="total">$149.98</span></p>
                <button class="checkout-btn"> <a href="/checkout.html">Proceed to Checkout</a></button>
            </div>
        </div>
    </div>
</section>

{% endblock %}

{% block footer %} {% endblock %}